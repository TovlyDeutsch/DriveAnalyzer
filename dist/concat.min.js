function checkAuth(){gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES.join(" "),immediate:!0},handleAuthResult)}function handleAuthResult(e){var t=document.getElementById("authorize-div");e&&!e.error?(t.style.display="none",$(".none").removeClass("none"),loadDriveApi()):(t.style.display="block",$(".mdl-layout__tab-bar-container").addClass("none"))}function handleAuthClick(e){return gapi.auth.authorize({client_id:CLIENT_ID,scope:SCOPES,immediate:!1},handleAuthResult),!1}function loadDriveApi(){gapi.client.load("drive","v3",getFiles)}var CLIENT_ID="363872304328-t3h8sa4icpbaj9lkrpraf5ujoidtsc6h.apps.googleusercontent.com",SCOPES=["https://www.googleapis.com/auth/drive.metadata.readonly"];
function getFiles(e){parameters={pageSize:1e3,fields:"nextPageToken, files(id, name, createdTime, fileExtension, quotaBytesUsed, owners, ownedByMe)",q:"mimeType != 'application/vnd.google-apps.folder' and trashed = false",orderBy:"createdTime"},e&&(parameters.pageToken=e);var i=gapi.client.drive.files.list(parameters);i.then(function(e){files=files.concat(e.result.files),e.result.nextPageToken?getFiles(e.result.nextPageToken):(fileLists=fileCount(files),displayGraph(files),listFiles(fileLists[0]))},function(e){document.getElementById("file-count").innerHTML=JSON.parse(e.body).error.message})}files=[];
function listFiles(t){console.log(t[0]);for(var e='<table id="file-list" class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">  <thead>    <tr>      <th class="mdl-data-table__cell--non-numeric">File Name</th>      <th class="narrow">Quota Used</th>      <th class="narrow">Date Created</th>    </tr>  </thead>  <tbody>',a=0;a<t.length;a++)t[a].ownedByMe===!0&&(e+='      <tr>        <td class="mdl-data-table__cell--non-numeric">'+t[a].name+'</td>        <td class="narrow">'+t[a].quotaBytesUsed+'</td>        <td class="narrow">'+new Date(Date.parse(t[a].createdTime)).toDateString()+"</td>      </tr>");e+="</tbody></table>",document.getElementById("table-slot").innerHTML=e,$("#file-list tbody").on("click","tr",function(){$(this).toggleClass("selected")})}
function fileCount(e){var t=[],a=e.filter(function(e){return e.ownedByMe===!0||void t.push(e)});return document.getElementById("file-counts").innerHTML='<p id="file-count" class="mdl-typography--headline">  Files You Own: '+a.length+'</p>  <p id="file-count" class="mdl-typography--headline">  Files Shared With You: '+t.length+'</p>  <p id="file-count" class="mdl-typography--headline">  Total: '+e.length+"</p>",[a,t]}function displayGraph(e){function t(){var e=google.visualization.arrayToDataTable([["Task","Hours per Day"],["Work",11],["Eat",2],["Commute",2],["Watch TV",2],["Sleep",7]]),t={title:"Distribution of file types"},a=new google.visualization.PieChart(document.getElementById("piechart"));a.draw(e,t),$("#graph-loader").remove()}for(var a=[],o=0;o<e.length;o++)a.push(e[o].fileExtension);google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(t)}